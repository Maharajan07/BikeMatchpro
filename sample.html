<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BikeMatch pro</title>
    <link rel="icon" href="web\images\pngegg.png">
    <!-- Bootstrap CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    

        <script src="https://kit.fontawesome.com/1694914d74.js" crossorigin="anonymous"></script>
    <style>
body {
            font-family: Arial, sans-serif;
            margin: 60px;
        }
        h1 {
            color: #333;
            margin-bottom: 10px;
        }
        p {
            margin: 5px 0;
        }
        .left-column {
   			 flex: 1;
   			 margin-right: 10px;
   			 display: flex;
   			 flex-direction: column;
		}

		.right-column {
   			flex: 1;
    		display: flex;
    		justify-content: center;
   			align-items: center;
		}

		.bike-item {
  			border: 2px solid #ddd;
    		padding: 15px;
    		margin-bottom: 10px;
    		display: flex;
		}

        	.bike-item img {
            max-width: 100%;
            display: block;
        }
        .brand {
            font-size: 18px; /* Example font size for brand */
        }
        .name {
            font-size: 44px;
            color: #300172; /* Example font size for name */
        }
        .displacement {
            font-size: 14px; /* Example font size for displacement */
        }
        .variant {
        	color: #019168;
        	}
        .max-power .body-style .mileage .cylinders .fuel-tank{
        	font-size: 20px;
        }
        .avg{
        	font-size:10px;
        	}
        .price {
            color: #ec6f08;
            margin-top: 20px;
            font-weight: bold;
            font-size:33px; /* Example font weight for price */
        }
        /* Add more CSS rules for other elements as needed */

        /* Custom styles can be added here */
    </style>
</head>


<body>
    <div class="container">
        <h1 class="my-4">BikeMatch pro</h1>
        
        <div class="row">
            <div class="col-md-6">
                <label for="searchBrand"></label>
                <input type="text" id="searchBrand" name="searchBrand" class="form-control" placeholder="Search here..">
            </div>
            <div class="col-md-6">
                <button onclick="searchBrand()" class="btn btn-primary">Search</button>
            </div>
        </div>
     
        <!-- Dropdown menu for selecting filter value -->
        <div class="row mt-3">
            <div class="col-md-3">
                <label for="filterBodyStyle">Choose Body Style:</label>
                <select id="filterBodyStyle" name="filterBodyStyle" class="form-control">
                    <option value="All">All</option> <!-- Default option for no filter -->
                    <option value="Street Bike">Street Bike</option>
                    <option value="Adventure">Adventure</option>
                    <option value="Sport Bike">Sport Bike</option>
                    <option value="Cafe Racer">Cafe Racer</option>
                    <option value="Cruiser">Cruiser</option>
                    <option value="Cummuter">Cummuter</option>
                    <option value="Scooter">Scooter</option>
                    <option value="Moped">Moped</option>
                </select>
            </div>
            <div class="col-md-3">
                <label for="filterBrand">Choose Brand:</label>
                <select id="filterBrand" name="filterBrand" class="form-control">
                    <option value="All">All</option> <!-- Default option for no filter -->
                    <option value="KTM">KTM</option>
                    <option value="Bajaj">Bajaj</option>
                    <option value="Yamaha">Yamaha</option>
                    <option value="Royal Enfield">Royal Enfield</option>
                    <option value="Suzuki">Suzuki</option>
                    <option value="TVS">TVS</option>
                    <option value="Hero">Hero</option>
                </select>
            </div>
            <div class="col-md-3">
                <label for="filterDisplacement">Choose Displacement:</label>
                <select id="filterDisplacement" name="filterDisplacement" class="form-control">
                    <option value="All">All</option>
                    <option value="below100cc">Below 100cc</option>
                    <option value="100-150cc">100 - 150cc</option>
                    <option value="150-200cc">150 - 200cc</option>
                    <option value="200-300cc">200 - 300cc</option>
                    <option value="above300cc">Above 300cc</option>
                </select>
            </div>
            <div class="col-md-3">
                <label for="filterPrice">Choose Price:</label>
                <select id="filterPrice" name="filterPrice" class="form-control">
                    <option value="All">All</option>
                    <option value="below1Lakh">Below 1 Lakh</option>
                    <option value="1-1.5Lakhs">1 - 1.5 Lakhs</option>
                    <option value="1.5-2Lakhs">1.5 - 2 Lakhs</option>
                    <option value="2-3Lakhs">2 - 3 Lakhs</option>
                    <option value="above3Lakhs">Above 3 Lakhs</option>
                </select>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md-12">
                <button class="btn btn-primary" onclick="applyFilter()">Filter</button>
            </div>
        </div>
        
        <hr>

        <!-- Div to contain MongoDB data in list format -->
        
        	<div id="dataList" class="mt-3 mb-5"></div>
        
    </div>

    <!-- Bootstrap JS and any additional scripts -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    
    <script>
        // JavaScript code goes here

function searchBrand() {
        var searchBrand = document.getElementById("searchBrand").value;
        console.log("Search query: " + searchBrand);
        fetch('/search?brand=' + encodeURIComponent(searchBrand))
        .then(response => response.json())
        .then(data => {
            // Clear existing list items
            document.getElementById("dataList").innerHTML = '';

            // Iterate over the data and populate list items
            data.forEach(item => {
                var listItem = document.createElement("div");
                listItem.classList.add("bike-item");

                var leftColumn = document.createElement("div");
                leftColumn.classList.add("left-column");

                var rightColumn = document.createElement("div");
                rightColumn.classList.add("right-column");

                // Populate details in the left column with specific class names
                leftColumn.innerHTML = `
                    <p class="name fw-bold mb-3">${item.Name}</p>
                    <p class="variant">${item.Varient}</p>
                    <p class="brand">Brand: ${item.Brand}</p>
                    <p class="max-power">Max Power: ${item["Max Power"]}bhp | Max Torque: ${item["Max Torque"]}nm</p>
                    <p class="body-style">Body Style: ${item["Body Style"]} | Displacement: ${item.Displacement}cc</p>
                    <p class="mileage">Mileage: ${item.Mileage}kmpl | Fuel Tank: ${item["Fuel Tank"]}L</p>
                    <p class="cylinders">Cylinders: ${item.Cylinders}</p>
                    <p class="price">Rs.${item.Price}</p>
                    <p class="avg">Avg. Ex-Showroom Price</p>
                `;

                // Populate image in the right column
                var image = document.createElement("img");
                image.src = item.image_id;
                image.classList.add("img-fluid");
                rightColumn.appendChild(image);

                listItem.appendChild(leftColumn);
                listItem.appendChild(rightColumn);

                document.getElementById("dataList").appendChild(listItem);
            });
        })
        .catch(error => console.error('Error:', error));
}
    



function applyFilter() {
    var filterBodyStyle = document.getElementById("filterBodyStyle").value;
    var filterBrand = document.getElementById("filterBrand").value;
    var filterDisplacement = document.getElementById("filterDisplacement").value;
    var filterPrice = document.getElementById("filterPrice").value;
    fetch('/filter?bodyStyle=' + encodeURIComponent(filterBodyStyle) + '&brand=' + encodeURIComponent(filterBrand) + '&displacement=' + encodeURIComponent(filterDisplacement) + '&price=' + encodeURIComponent(filterPrice))
        .then(response => response.json())
        .then(data => {
            // Clear existing list items
            document.getElementById("dataList").innerHTML = '';

            // Iterate over the data and populate list items
            data.forEach(item => {
                var listItem = document.createElement("div");
                listItem.classList.add("bike-item");

                var leftColumn = document.createElement("div");
                leftColumn.classList.add("left-column");

                var rightColumn = document.createElement("div");
                rightColumn.classList.add("right-column");

                // Populate details in the left column with specific class names
                leftColumn.innerHTML = `
                    <p class="name fw-bold mb-3">${item.Name}</p>
                    <p class="variant">${item.Varient}</p>
                    <p class="brand">Brand: ${item.Brand}</p>
                    <p class="max-power">Max Power: ${item["Max Power"]}bhp | Max Torque: ${item["Max Torque"]}nm</p>
                    <p class="body-style">Body Style: ${item["Body Style"]} | Displacement: ${item.Displacement}cc</p>
                    <p class="mileage">Mileage: ${item.Mileage}kmpl | Fuel Tank: ${item["Fuel Tank"]}L</p>
                    <p class="cylinders">Cylinders: ${item.Cylinders}</p>
                    <p class="price">Rs.${item.Price}</p>
                    <p class="avg">Avg. Ex-Showroom Price</p>
                `;

                // Populate image in the right column
                var image = document.createElement("img");
                image.src = item.image_id;
                image.classList.add("img-fluid");
                rightColumn.appendChild(image);

                listItem.appendChild(leftColumn);
                listItem.appendChild(rightColumn);

                document.getElementById("dataList").appendChild(listItem);
            });
        })
        .catch(error => console.error('Error:', error));
}



    </script>
</body>
</html>
